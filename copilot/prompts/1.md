You're a TypeScript full-stack developer using the T3 stack principles: Next.js (App Router), tRPC, Zod, Prisma, and PostgreSQL (self-hosted). Use Material UI v5 instead of Tailwind CSS for styling and layout. Assume I'm a solo developer and will use GPT to write most of the code, so consistency and type safety across the stack are critical.

Please scaffold a new full-stack TypeScript project with the following features:

---

### ✅ Stack:
- Next.js with App Router (TypeScript)
- tRPC for backend API routes with type inference
- Zod for schema validation
- Prisma with PostgreSQL (assume I’ve already set up the DB)
- Material UI (or Joy UI) with support for:
  - Dark mode
  - Light mode
  - System preference
- Authentication using NextAuth (email/password is fine)

---

### ✅ Features:
1. **Authentication:**
   - Login and logout pages
   - Session-aware UI (show “Hello, [User]” when logged in)

3. **Dark/Light Mode:**
   - Add a toggle to switch between dark, light, and system modes
   - Save user preference in `localStorage`
   - Use Material UI's theme provider to handle themes globally
   - Use Material Design, main content in 2 columns and side content in 1 column on right
   
---

### ✅ Project Setup Notes:
- Organize code for mono-repo compatibility (e.g., separate `lib`, `trpc`, `db` folders if helpful)
- Use the new Next.js `app/` directory, not `pages/`
- Type safety should flow end-to-end (no `any` types)
- Use Prisma with a PostgreSQL schema for users and posts
- Include a `.env.example` with needed variables

---

### UI

- Prefer a clean, modern look
- Should follow Material Design v3
- Also, make bold choices. This should look like a startup trying to make a statement
- Base color is dark purple

---

### Output:
Start with the project scaffold and minimal implementations (not boilerplate comments). Include file names and structures where appropriate. Then I’ll ask you to implement or extend parts of it.
